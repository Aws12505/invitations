import{j as e,H as C,L as j,a as S}from"./app-CtcDIlsc.js";import{A as $}from"./app-layout-h9UkTarG.js";import{B as l}from"./button-BWNuTd8n.js";import{C as r,c,a as d,b as n,d as N}from"./card-BNkVdPxa.js";import{B as a}from"./badge-CgSmYn1Z.js";import{T as k,a as I,b,c as m,d as T,e as x}from"./table-DRTmVstP.js";import{S as u}from"./separator-g_ogy2g_.js";import{t as v}from"./index-CY9GR9YH.js";import{c as o}from"./createLucideIcon-GVte-zZo.js";import{S as y,C as f,E as w}from"./square-pen-DU-Soc4F.js";import{C as p}from"./circle-x-CB-K_ZyF.js";import{U as A}from"./user-CwDGMHL4.js";import{U}from"./users-DVkxot4G.js";import{P as D}from"./phone-Dy_sP-_h.js";import{C as M}from"./circle-check-big-DHRErfHF.js";import{C as P}from"./clock-RJ-6b9WO.js";import{M as R}from"./message-circle-Bj5X14FI.js";import{U as B}from"./user-check-B3fVcHJ0.js";/* empty css            */import"./index-DOG0P_Jw.js";import"./index-SFZIEt5i.js";import"./index-CC7XR_KE.js";import"./index-Bvl3ChLw.js";import"./index-ybkMdk5e.js";import"./index-SWHS4kFd.js";import"./app-logo-icon-DtBuXxU-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],E=o("Activity",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q=o("Globe",z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],G=o("Link",F);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],V=o("TrendingUp",Q),X=[{title:"Invitation Links",href:"/invitation-links"},{title:"Details",href:"#"}];function be({invitationLink:s}){const h=()=>{const t=`${window.location.origin}/invitation/${s.token}`;navigator.clipboard.writeText(t).then(()=>{v.success("Invitation link copied to clipboard!")})},_=()=>{S.patch(`/invitation-links/${s.id}`,{is_active:!s.is_active},{onSuccess:()=>v.success(`Invitation link ${s.is_active?"deactivated":"activated"} successfully`)})},i=s.attendants?{coming:s.attendants.filter(t=>t.attendance_status==="coming").length,maybe:s.attendants.filter(t=>t.attendance_status==="maybe").length,not_coming:s.attendants.filter(t=>t.attendance_status==="not_coming").length,no_response:s.attendants.filter(t=>!t.attendance_status).length,attended:s.attendants.filter(t=>t.attended).length}:{coming:0,maybe:0,not_coming:0,no_response:0,attended:0},g=s.usage/s.limit*100;return e.jsxs($,{breadcrumbs:X,children:[e.jsx(C,{title:`${s.full_name} - Invitation Link`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.full_name}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Invitation Link Details"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"outline",asChild:!0,children:e.jsxs(j,{href:`/invitation-links/${s.id}/edit`,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Edit"]})}),e.jsxs(l,{variant:"outline",onClick:h,children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Copy Link"]}),e.jsx(l,{variant:"outline",onClick:_,className:s.is_active?"text-red-600 border-red-200":"text-green-600 border-green-200",children:s.is_active?"Deactivate":"Activate"})]})]}),!s.is_active&&e.jsx(r,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950",children:e.jsxs(c,{className:"flex items-center gap-3 pt-6",children:[e.jsx(p,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-orange-900 dark:text-orange-100",children:"This invitation link is currently inactive"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"People cannot register using this link until it's activated"})]})]})}),s.usage>=s.limit&&e.jsx(r,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950",children:e.jsxs(c,{className:"flex items-center gap-3 pt-6",children:[e.jsx(p,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"This invitation link has reached its limit"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"No more registrations can be accepted through this link"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Primary Invitee Information"]}),e.jsx(N,{children:"Details of the person this invitation link was created for"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"First Name"}),e.jsx("p",{className:"text-lg font-medium",children:s.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Father's Name"}),e.jsx("p",{className:"text-lg font-medium",children:s.father_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Name"}),e.jsx("p",{className:"text-lg font-medium",children:s.last_name})]}),e.jsx(u,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Default VIP Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(a,{variant:s.default_vip_status==="vip"?"default":"secondary",className:"text-sm",children:s.default_vip_status.toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(a,{variant:s.is_active?"default":"destructive",children:s.is_active?"Active":"Inactive"})})]})]})]})]}),e.jsxs(r,{children:[e.jsx(d,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Link Configuration"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Invitation URL"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 p-3 bg-muted rounded-md",children:[e.jsx("code",{className:"text-sm flex-1 break-all",children:`${window.location.origin}/invitation/${s.token}`}),e.jsx(l,{variant:"ghost",size:"sm",onClick:h,children:e.jsx(f,{className:"h-3 w-3"})}),e.jsx(l,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx("a",{href:`/invitation/${s.token}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(w,{className:"h-3 w-3"})})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Token"}),e.jsx("p",{className:"text-sm font-mono mt-1",children:s.token})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),e.jsx("p",{className:"text-sm mt-1",children:new Date(s.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"text-sm mt-1",children:new Date(s.updated_at).toLocaleDateString()})]})]})]})]}),s.attendants&&s.attendants.length>0&&e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Registered Attendants"]}),e.jsx(N,{children:"People who have registered through this invitation link"})]}),e.jsx(c,{children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(b,{children:[e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Phone"}),e.jsx(m,{children:"Response"}),e.jsx(m,{children:"Attended"}),e.jsx(m,{children:"Registered"})]})}),e.jsx(T,{children:s.attendants.map(t=>e.jsxs(b,{children:[e.jsx(x,{className:"font-medium",children:e.jsx(j,{href:`/attendants/${t.id}`,className:"text-blue-600 hover:underline",children:t.full_name})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("a",{href:`tel:${t.phone_number}`,className:"text-blue-600 hover:underline text-sm",children:t.phone_number})]})}),e.jsx(x,{children:t.attendance_status?e.jsx(a,{variant:t.attendance_status==="coming"?"default":t.attendance_status==="maybe"?"secondary":"destructive",className:"text-xs",children:t.attendance_status.replace("_"," ").toUpperCase()}):e.jsx(a,{variant:"outline",className:"text-xs",children:"No Response"})}),e.jsx(x,{children:e.jsx(a,{variant:t.attended?"default":"outline",className:"text-xs",children:t.attended?"Yes":"No"})}),e.jsx(x,{className:"text-sm text-muted-foreground",children:new Date(t.created_at).toLocaleDateString()})]},t.id))})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(d,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Usage Statistics"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Capacity"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.usage," / ",s.limit]})]}),e.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${Math.min(g,100)}%`}})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(g),"% capacity used"]})]}),e.jsx(u,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Available Slots"}),e.jsx(a,{variant:"secondary",children:Math.max(0,s.limit-s.usage)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Registered"}),e.jsx(a,{variant:"default",children:s.usage})]})]})]})]}),s.attendants&&s.attendants.length>0&&e.jsxs(r,{children:[e.jsx(d,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Response Statistics"]})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Coming"})]}),e.jsx(a,{className:"bg-green-100 text-green-800 border-green-200",children:i.coming})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-3 w-3 text-yellow-600"}),e.jsx("span",{className:"text-sm",children:"Maybe"})]}),e.jsx(a,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:i.maybe})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-3 w-3 text-red-600"}),e.jsx("span",{className:"text-sm",children:"Not Coming"})]}),e.jsx(a,{className:"bg-red-100 text-red-800 border-red-200",children:i.not_coming})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-3 w-3 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"No Response"})]}),e.jsx(a,{variant:"outline",children:i.no_response})]}),e.jsx(u,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-3 w-3 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Actually Attended"})]}),e.jsx(a,{className:"bg-blue-100 text-blue-800 border-blue-200",children:i.attended})]})]})]}),e.jsxs(r,{children:[e.jsx(d,{children:e.jsx(n,{children:"Quick Actions"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsx(l,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsxs("a",{href:`/invitation/${s.token}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Preview Invitation"]})}),e.jsxs(l,{variant:"outline",className:"w-full justify-start",onClick:h,children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Copy Invitation Link"]}),e.jsx(l,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsxs(j,{href:`/invitation-links/${s.id}/edit`,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Edit Details"]})})]})]})]})]})]})]})}export{be as default};
