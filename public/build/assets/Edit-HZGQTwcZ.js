import{r as m,j as e,H as S,a as x}from"./app-CEfohHKB.js";import{A as y}from"./app-layout-CC3uUAH6.js";import{B as p}from"./button-Cf5OBkvA.js";import{C as f,a as j,b as _,d as A,c as v}from"./card-DMFakVEY.js";import{F as l}from"./form-field-DrImVgxX.js";import{L as r}from"./label-2GixVvwz.js";import{S as F,a as D,b as E,c as P,d as o}from"./select-CN3NJnn3.js";import{S as k}from"./switch-vxMqJe8b.js";import{t as g}from"./index-BC4llrPh.js";import{C as I}from"./ChairDisplay-B12EVqUu.js";/* empty css            */import"./createLucideIcon-C1kX6QOl.js";import"./index-CLlSA1CH.js";import"./index-M3sdbAMS.js";import"./index-DtccALi-.js";import"./index-ZcBk-nth.js";import"./index-DZhwA5oI.js";import"./index-BwMU0Zd6.js";import"./app-logo-icon-Dulel9Vy.js";import"./users-DfqPc22M.js";import"./armchair-BkyA-nFG.js";import"./input-OA3X1roX.js";import"./check-DqSP4QnI.js";import"./badge-BlVQMdEv.js";import"./crown-Dyu7jJrT.js";import"./user-B8sFi2rB.js";const L=[{title:"Attendants",href:"/attendants"},{title:"Edit",href:"#"}];function ne({attendant:t}){const[a,N]=m.useState({first_name:t.first_name,father_name:t.father_name,last_name:t.last_name,phone_number:t.phone_number,vip_status:t.vip_status,attended:t.attended}),[i,c]=m.useState({}),[u,h]=m.useState(!1),b=s=>{s.preventDefault(),h(!0),c({}),x.patch(`/attendants/${t.id}`,{...a},{onSuccess:()=>{g.success("Attendant updated successfully!")},onError:d=>{c(d),g.error("Please check the form for errors")},onFinish:()=>h(!1)})},n=(s,d)=>{N(C=>({...C,[s]:d}))};return e.jsxs(y,{breadcrumbs:L,children:[e.jsx(S,{title:`Edit ${t.full_name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Attendant"}),e.jsx("p",{className:"text-muted-foreground",children:"Update attendant information and status"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(f,{children:[e.jsxs(j,{children:[e.jsx(_,{children:"Attendant Information"}),e.jsx(A,{children:"Update the attendant's personal details and status"})]}),e.jsx(v,{children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(l,{id:"first_name",name:"first_name",label:"First Name",value:a.first_name,onChange:s=>n("first_name",s.target.value),error:i.first_name,required:!0}),e.jsx(l,{id:"father_name",name:"father_name",label:"Father's Name",value:a.father_name,onChange:s=>n("father_name",s.target.value),error:i.father_name,required:!0})]}),e.jsx(l,{id:"last_name",name:"last_name",label:"Last Name",value:a.last_name,onChange:s=>n("last_name",s.target.value),error:i.last_name,required:!0}),e.jsx(l,{id:"phone_number",name:"phone_number",type:"tel",label:"Phone Number",value:a.phone_number,onChange:s=>n("phone_number",s.target.value),error:i.phone_number,required:!0,description:"Please include country code (e.g., +963 for Syria)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"vip_status",className:"text-sm font-medium",children:["VIP Status",e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),e.jsxs(F,{value:a.vip_status,onValueChange:s=>n("vip_status",s),children:[e.jsx(D,{children:e.jsx(E,{placeholder:"Select VIP status"})}),e.jsxs(P,{children:[e.jsx(o,{value:"regular",children:"Regular"}),e.jsx(o,{value:"vip",children:"VIP"}),e.jsx(o,{value:"premium",children:"Premium"})]})]}),i.vip_status&&e.jsx("p",{className:"text-xs text-destructive",children:i.vip_status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{id:"attended",checked:a.attended,onCheckedChange:s=>n("attended",s)}),e.jsx(r,{htmlFor:"attended",children:"Actually attended the event"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(p,{type:"submit",disabled:u,children:u?"Updating...":"Update Attendant"}),e.jsx(p,{type:"button",variant:"outline",onClick:()=>x.visit("/attendants"),children:"Cancel"})]})]})})]})}),e.jsx("div",{children:e.jsxs(f,{children:[e.jsx(j,{children:e.jsx(_,{children:"Additional Information"})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Registration Date"}),e.jsx("p",{className:"text-sm",children:new Date(t.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"text-sm",children:new Date(t.updated_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Chair Assignment"}),e.jsx("div",{className:"mt-1",children:e.jsx(I,{chairNumber:t.chair_number,size:"md",showSection:!0})})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Invited By"}),e.jsx("p",{className:"text-sm",children:t.invitation_link?.full_name||"Unknown"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Current Response"}),e.jsx("p",{className:"text-sm",children:t.attendance_status?t.attendance_status.charAt(0).toUpperCase()+t.attendance_status.slice(1).replace("_"," "):"No response yet"})]})]})]})})]})]})]})}export{ne as default};
