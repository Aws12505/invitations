import{r as l,j as e,H,a as z}from"./app-DkqyKFeN.js";import{u as _,B as K}from"./button-Bt9w2FSp.js";import{C as y,a as k,b as I,c as R,d as Y}from"./card-Bg3YwbiD.js";import{B as C}from"./badge-pSmf28Vh.js";import{u as X,c as P,a as w,b as W,d as J}from"./index-DEd2auVS.js";import{P as g}from"./index-V0mboVAM.js";import{c as E,R as Q,I as Z}from"./index-DWpKZ1Ke.js";import{u as ee}from"./index-D9ysXGZn.js";import{P as re}from"./index-mGxC4ot0.js";import{c as te,a as A}from"./createLucideIcon-Ker767Zn.js";import{L as se}from"./label-DXJ9JafH.js";import{t as N}from"./index-BMwzMuSD.js";import{U as oe}from"./user-pGA6pDmz.js";import{C as ae}from"./calendar-sPkYxPt6.js";import{C as ne}from"./circle-x-DvGpIULT.js";import{C as ie}from"./clock-D149ELNa.js";import{C as ce}from"./circle-check-big-DCfoIRtR.js";/* empty css            */var S="Radio",[de,G]=P(S),[le,ue]=de(S),D=l.forwardRef((r,s)=>{const{__scopeRadio:o,name:i,checked:t=!1,required:n,disabled:c,value:a="on",onCheck:d,form:p,...x}=r,[f,h]=l.useState(null),u=_(s,b=>h(b)),m=l.useRef(!1),v=f?p||!!f.closest("form"):!0;return e.jsxs(le,{scope:o,checked:t,disabled:c,children:[e.jsx(g.button,{type:"button",role:"radio","aria-checked":t,"data-state":L(t),"data-disabled":c?"":void 0,disabled:c,value:a,...x,ref:u,onClick:w(r.onClick,b=>{t||d?.(),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&e.jsx(F,{control:f,bubbles:!m.current,name:i,value:a,checked:t,required:n,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});D.displayName=S;var U="RadioIndicator",B=l.forwardRef((r,s)=>{const{__scopeRadio:o,forceMount:i,...t}=r,n=ue(U,o);return e.jsx(re,{present:i||n.checked,children:e.jsx(g.span,{"data-state":L(n.checked),"data-disabled":n.disabled?"":void 0,...t,ref:s})})});B.displayName=U;var pe="RadioBubbleInput",F=l.forwardRef(({__scopeRadio:r,control:s,checked:o,bubbles:i=!0,...t},n)=>{const c=l.useRef(null),a=_(c,n),d=W(o),p=J(s);return l.useEffect(()=>{const x=c.current;if(!x)return;const f=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==o&&u){const m=new Event("click",{bubbles:i});u.call(x,o),x.dispatchEvent(m)}},[d,o,i]),e.jsx(g.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...t,tabIndex:-1,ref:a,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});F.displayName=pe;function L(r){return r?"checked":"unchecked"}var me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],j="RadioGroup",[fe,$e]=P(j,[E,G]),M=E(),O=G(),[xe,he]=fe(j),T=l.forwardRef((r,s)=>{const{__scopeRadioGroup:o,name:i,defaultValue:t,value:n,required:c=!1,disabled:a=!1,orientation:d,dir:p,loop:x=!0,onValueChange:f,...h}=r,u=M(o),m=ee(p),[v,b]=X({prop:n,defaultProp:t??null,onChange:f,caller:j});return e.jsx(xe,{scope:o,name:i,required:c,disabled:a,value:v,onValueChange:b,children:e.jsx(Q,{asChild:!0,...u,orientation:d,dir:m,loop:x,children:e.jsx(g.div,{role:"radiogroup","aria-required":c,"aria-orientation":d,"data-disabled":a?"":void 0,dir:m,...h,ref:s})})})});T.displayName=j;var V="RadioGroupItem",$=l.forwardRef((r,s)=>{const{__scopeRadioGroup:o,disabled:i,...t}=r,n=he(V,o),c=n.disabled||i,a=M(o),d=O(o),p=l.useRef(null),x=_(s,p),f=n.value===t.value,h=l.useRef(!1);return l.useEffect(()=>{const u=v=>{me.includes(v.key)&&(h.current=!0)},m=()=>h.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",m)}},[]),e.jsx(Z,{asChild:!0,...a,focusable:!c,active:f,children:e.jsx(D,{disabled:c,required:n.required,checked:f,...d,...t,name:n.name,ref:x,onCheck:()=>n.onValueChange(t.value),onKeyDown:w(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:w(t.onFocus,()=>{h.current&&p.current?.click()})})})});$.displayName=V;var ve="RadioGroupIndicator",q=l.forwardRef((r,s)=>{const{__scopeRadioGroup:o,...i}=r,t=O(o);return e.jsx(B,{...t,...i,ref:s})});q.displayName=ve;var be=T,ge=$,je=q;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Re=te("Circle",ye);function Ce({className:r,...s}){return e.jsx(be,{"data-slot":"radio-group",className:A("grid gap-3",r),...s})}function Ne({className:r,...s}){return e.jsx(ge,{"data-slot":"radio-group-item",className:A("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:e.jsx(je,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(Re,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function qe({attendant:r}){const[s,o]=l.useState(""),[i,t]=l.useState(!1),n={coming:{label:"Coming",description:"I will definitely attend the event",icon:ce,color:"text-green-600",bgColor:"bg-green-50 border-green-200"},maybe:{label:"Maybe",description:"I might attend, not sure yet",icon:ie,color:"text-yellow-600",bgColor:"bg-yellow-50 border-yellow-200"},not_coming:{label:"Not Coming",description:"I will not be able to attend",icon:ne,color:"text-red-600",bgColor:"bg-red-50 border-red-200"}},c=a=>{if(a.preventDefault(),!s){N.error("Please select your attendance status");return}t(!0),z.patch(`/status/${r.status_token}`,{attendance_status:s},{onSuccess:()=>{N.success("Attendance status updated successfully!")},onError:()=>{N.error("Failed to update status. Please try again."),t(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx(H,{title:`Update Attendance - ${r.full_name}`}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full",children:e.jsx(oe,{className:"h-8 w-8 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Update Attendance"}),e.jsxs("p",{className:"text-xl text-muted-foreground",children:["Hi ",r.full_name,", please let us know your attendance status"]})]}),e.jsxs(y,{children:[e.jsx(k,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"Registration Details"]})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsx("p",{className:"font-medium",children:r.full_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"VIP Status"}),e.jsx(C,{variant:r.vip_status==="vip"?"default":"secondary",children:r.vip_status.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Current Status"}),r.attendance_status?e.jsx(C,{variant:r.attendance_status==="coming"?"default":r.attendance_status==="maybe"?"secondary":"destructive",children:n[r.attendance_status].label}):e.jsx(C,{variant:"outline",children:"Not Set"})]})]})})]}),e.jsxs(y,{children:[e.jsxs(k,{children:[e.jsx(I,{children:"Select Your Attendance Status"}),e.jsx(Y,{children:"Choose the option that best describes your attendance plans"})]}),e.jsx(R,{children:e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsx(Ce,{value:s,onValueChange:a=>o(a),className:"space-y-4",children:Object.entries(n).map(([a,d])=>{const p=d.icon;return e.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${s===a?`${d.bgColor} border-current`:"border-border hover:border-primary/20"}`,children:e.jsxs(se,{htmlFor:a,className:"flex items-center gap-4 cursor-pointer",children:[e.jsx(Ne,{value:a,id:a}),e.jsx(p,{className:`h-6 w-6 ${d.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:d.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})]})},a)})}),e.jsx(K,{type:"submit",disabled:i||!s,className:"w-full",size:"lg",children:i?"Updating...":"Update Attendance Status"})]})})]}),e.jsx(y,{children:e.jsx(R,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"You can change your attendance status anytime before the event. This helps us better plan for the celebration."})})})]})})]})}export{qe as default};
