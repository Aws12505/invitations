import{r as h,j as e,H as g,a as u}from"./app-CtcDIlsc.js";import{B as c}from"./button-BWNuTd8n.js";import{C as N,a as b,b as w,d as v,c as C}from"./card-BNkVdPxa.js";import{S,a as _,b as y,c as k,d as I}from"./select-T_x3JwjR.js";import{B as p}from"./badge-CgSmYn1Z.js";import{t as n}from"./index-CY9GR9YH.js";import{A}from"./arrow-left-DBZKhvI7.js";import{A as B}from"./arrow-left-right-FFY4ZZDG.js";import{C as P}from"./crown-Dlzh6RR5.js";import{U as V}from"./user-CwDGMHL4.js";/* empty css            */import"./createLucideIcon-GVte-zZo.js";import"./index-CC7XR_KE.js";import"./index-DOG0P_Jw.js";import"./index-Bvl3ChLw.js";import"./index-SFZIEt5i.js";import"./check-CoK5Tjyc.js";function W({attendant1:t,otherAttendants:i}){const[r,f]=h.useState(""),[d,m]=h.useState(!1),l=i.find(s=>s.id.toString()===r),j=s=>{if(s.preventDefault(),!r){n.error("Please select an attendant to switch with");return}m(!0),u.post("/chair-assignment/switch",{attendant1_id:t.id,attendant2_id:parseInt(r)},{onSuccess:()=>{n.success("Chairs switched successfully")},onError:()=>{n.error("Failed to switch chairs")},onFinish:()=>m(!1)})},o=()=>{u.get("/attendants")},a=s=>{if(!s.chair_number)return null;const x=s.chair_number<=50;return e.jsxs("div",{className:"flex items-center gap-2",children:[x?e.jsx(P,{className:"h-4 w-4 text-purple-600"}):e.jsx(V,{className:"h-4 w-4 text-blue-600"}),e.jsxs(p,{variant:x?"default":"secondary",children:["Chair ",s.chair_number]})]})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:`Switch Chairs - ${t.full_name}`}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs(N,{children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:o,className:"p-1",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Switch Chairs"]}),e.jsx(v,{children:"Switch chair assignments between two attendants"})]})]})}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Current Selection:"}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsx("p",{className:"font-medium",children:t.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Chair"}),a(t)]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIP Status"}),e.jsx(p,{variant:t.vip_status==="vip"||t.vip_status==="premium"?"default":"secondary",children:t.vip_status.toUpperCase()})]})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Switch with",e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),e.jsxs(S,{value:r,onValueChange:f,children:[e.jsx(_,{children:e.jsx(y,{placeholder:"Select attendant to switch chairs with"})}),e.jsx(k,{children:i.map(s=>e.jsx(I,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:s.full_name}),e.jsx("div",{className:"ml-2",children:a(s)})]})},s.id))})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length," attendants with chairs available"]})]}),l&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-medium mb-3 text-blue-900 dark:text-blue-100",children:"Switch Preview:"}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:t.full_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"will get"}),a(l)]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:l.full_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"will get"}),a(t)]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(c,{type:"button",variant:"outline",onClick:o,className:"flex-1",children:"Cancel"}),e.jsx(c,{type:"submit",disabled:d||!r,className:"flex-1",children:d?"Switching...":"Switch Chairs"})]})]})]})]})})})]})}export{W as default};
