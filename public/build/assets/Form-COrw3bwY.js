import{r as l,j as e,H as z,a as H}from"./app-B3SgVJhu.js";import{u as w,B as K}from"./button-Vmq4He0e.js";import{C as R,a as k,b as S,c as y,d as X}from"./card-B-_B4fQR.js";import{B as I}from"./badge-DEMd6afw.js";import{u as W,c as E,a as N,b as Y,d as J}from"./index-BpbJzotd.js";import{P as g}from"./index-D9Wn9T95.js";import{c as P,R as Q,I as Z}from"./index-MiZIFg-Q.js";import{u as ee}from"./index-Drq49MY5.js";import{P as re}from"./index-CzcQ-vKP.js";import{c as oe,a as G}from"./createLucideIcon-DQaRmWom.js";import{L as se}from"./label-BdQBCIXd.js";import{t as C}from"./index-A0Bk4YZj.js";import{U as te}from"./user-DJPo2xMZ.js";import{C as ae}from"./calendar-CPhktWZF.js";import{C as ie}from"./circle-x-Crszc6l6.js";import{C as ne}from"./clock-REYCNdfY.js";import{C as ce}from"./circle-check-big-DUnX6lzo.js";/* empty css            */var _="Radio",[de,A]=E(_),[le,ue]=de(_),D=l.forwardRef((r,s)=>{const{__scopeRadio:t,name:n,checked:o=!1,required:i,disabled:c,value:a="on",onCheck:d,form:p,...x}=r,[f,h]=l.useState(null),u=w(s,b=>h(b)),m=l.useRef(!1),v=f?p||!!f.closest("form"):!0;return e.jsxs(le,{scope:t,checked:o,disabled:c,children:[e.jsx(g.button,{type:"button",role:"radio","aria-checked":o,"data-state":M(o),"data-disabled":c?"":void 0,disabled:c,value:a,...x,ref:u,onClick:N(r.onClick,b=>{o||d?.(),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&e.jsx(L,{control:f,bubbles:!m.current,name:n,value:a,checked:o,required:i,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});D.displayName=_;var B="RadioIndicator",F=l.forwardRef((r,s)=>{const{__scopeRadio:t,forceMount:n,...o}=r,i=ue(B,t);return e.jsx(re,{present:n||i.checked,children:e.jsx(g.span,{"data-state":M(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:s})})});F.displayName=B;var pe="RadioBubbleInput",L=l.forwardRef(({__scopeRadio:r,control:s,checked:t,bubbles:n=!0,...o},i)=>{const c=l.useRef(null),a=w(c,i),d=Y(t),p=J(s);return l.useEffect(()=>{const x=c.current;if(!x)return;const f=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==t&&u){const m=new Event("click",{bubbles:n});u.call(x,t),x.dispatchEvent(m)}},[d,t,n]),e.jsx(g.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:a,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});L.displayName=pe;function M(r){return r?"checked":"unchecked"}var me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],j="RadioGroup",[fe,Te]=E(j,[P,A]),O=P(),U=A(),[xe,he]=fe(j),$=l.forwardRef((r,s)=>{const{__scopeRadioGroup:t,name:n,defaultValue:o,value:i,required:c=!1,disabled:a=!1,orientation:d,dir:p,loop:x=!0,onValueChange:f,...h}=r,u=O(t),m=ee(p),[v,b]=W({prop:i,defaultProp:o??null,onChange:f,caller:j});return e.jsx(xe,{scope:t,name:n,required:c,disabled:a,value:v,onValueChange:b,children:e.jsx(Q,{asChild:!0,...u,orientation:d,dir:m,loop:x,children:e.jsx(g.div,{role:"radiogroup","aria-required":c,"aria-orientation":d,"data-disabled":a?"":void 0,dir:m,...h,ref:s})})})});$.displayName=j;var q="RadioGroupItem",T=l.forwardRef((r,s)=>{const{__scopeRadioGroup:t,disabled:n,...o}=r,i=he(q,t),c=i.disabled||n,a=O(t),d=U(t),p=l.useRef(null),x=w(s,p),f=i.value===o.value,h=l.useRef(!1);return l.useEffect(()=>{const u=v=>{me.includes(v.key)&&(h.current=!0)},m=()=>h.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",m)}},[]),e.jsx(Z,{asChild:!0,...a,focusable:!c,active:f,children:e.jsx(D,{disabled:c,required:i.required,checked:f,...d,...o,name:i.name,ref:x,onCheck:()=>i.onValueChange(o.value),onKeyDown:N(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:N(o.onFocus,()=>{h.current&&p.current?.click()})})})});T.displayName=q;var ve="RadioGroupIndicator",V=l.forwardRef((r,s)=>{const{__scopeRadioGroup:t,...n}=r,o=U(t);return e.jsx(F,{...o,...n,ref:s})});V.displayName=ve;var be=$,ge=T,je=V;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ye=oe("Circle",Re);function Ce({className:r,...s}){return e.jsx(be,{"data-slot":"radio-group",className:G("grid gap-3",r),...s})}function Ne({className:r,...s}){return e.jsx(ge,{"data-slot":"radio-group-item",className:G("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:e.jsx(je,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(ye,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Ve({attendant:r}){const[s,t]=l.useState(""),[n,o]=l.useState(!1),i={coming:{label:"سأحضر",description:"سأحضر الحدث بالتأكيد",icon:ce,color:"text-green-600",bgColor:"bg-green-50 border-green-200"},maybe:{label:"ربما",description:"قد أحضر، لست متأكداً بعد",icon:ne,color:"text-yellow-600",bgColor:"bg-yellow-50 border-yellow-200"},not_coming:{label:"لن أحضر",description:"لن أتمكن من الحضور",icon:ie,color:"text-red-600",bgColor:"bg-red-50 border-red-200"}},c=a=>{if(a.preventDefault(),!s){C.error("يرجى اختيار حالة الحضور");return}o(!0),H.patch(`/status/${r.status_token}`,{attendance_status:s},{onSuccess:()=>{C.success("تم تحديث حالة الحضور بنجاح!")},onError:()=>{C.error("فشل في تحديث الحالة. يرجى المحاولة مرة أخرى."),o(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx(z,{title:`تحديث الحضور - ${r.full_name}`}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",dir:"rtl",children:e.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full",children:e.jsx(te,{className:"h-8 w-8 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"تحديث الحضور"}),e.jsxs("p",{className:"text-xl text-muted-foreground",children:["مرحباً ",r.full_name,"، يرجى إعلامنا بحالة حضورك"]})]}),e.jsxs(R,{children:[e.jsx(k,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"تفاصيل التسجيل"]})}),e.jsx(y,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"الاسم"}),e.jsx("p",{className:"font-medium",children:r.full_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"الحالة الحالية"}),r.attendance_status?e.jsx(I,{variant:r.attendance_status==="coming"?"default":r.attendance_status==="maybe"?"secondary":"destructive",children:i[r.attendance_status].label}):e.jsx(I,{variant:"outline",children:"غير محدد"})]})]})})]}),e.jsxs(R,{children:[e.jsxs(k,{children:[e.jsx(S,{children:"اختر حالة حضورك"}),e.jsx(X,{children:"اختر الخيار الذي يصف خططك للحضور بشكل أفضل"})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsx(Ce,{value:s,onValueChange:a=>t(a),className:"space-y-4",children:Object.entries(i).map(([a,d])=>{const p=d.icon;return e.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${s===a?`${d.bgColor} border-current`:"border-border hover:border-primary/20"}`,children:e.jsxs(se,{htmlFor:a,className:"flex items-center gap-4 cursor-pointer",children:[e.jsx(Ne,{value:a,id:a}),e.jsx(p,{className:`h-6 w-6 ${d.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:d.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})]})},a)})}),e.jsx(K,{type:"submit",disabled:n||!s,className:"w-full",size:"lg",children:n?"جاري التحديث...":"تحديث حالة الحضور"})]})})]}),e.jsx(R,{children:e.jsx(y,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"يمكنك تغيير حالة حضورك في أي وقت قبل الحدث. هذا يساعدنا على التخطيط بشكل أفضل للاحتفال."})})})]})})]})}export{Ve as default};
