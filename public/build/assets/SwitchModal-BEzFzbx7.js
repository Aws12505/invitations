import{r as x,j as e,H as g,a as u}from"./app-ABjsRsQJ.js";import{B as c}from"./button-DJGAu1mx.js";import{C as N,a as b,b as w,d as v,c as C}from"./card-BJPYDRlU.js";import{S,a as _,b as y,c as k,d as I}from"./select-CHoeXn-A.js";import{B as p}from"./badge-B0fetXZG.js";import{t as n}from"./index-CurYk9TL.js";import{A}from"./arrow-left-BtKCxZ5z.js";import{A as B}from"./arrow-left-right-BOPVJJ6u.js";import{C as P}from"./crown-NdTqxaGN.js";import{U as V}from"./user-CPv2PDvS.js";/* empty css            */import"./createLucideIcon-042iibch.js";import"./index-Bgx6gJaz.js";import"./index-CG9sQuq8.js";import"./index-Ce63WWzf.js";import"./index-DDTFSEEs.js";import"./check-DId1pAnl.js";function W({attendant1:r,otherAttendants:i}){const[t,f]=x.useState(""),[d,m]=x.useState(!1),l=i.find(s=>s.id.toString()===t),j=s=>{if(s.preventDefault(),!t){n.error("Please select an attendant to switch with");return}m(!0),u.post("/chair-assignment/switch",{attendant1_id:r.id,attendant2_id:parseInt(t)},{onSuccess:()=>{n.success("Chairs switched successfully")},onError:()=>{n.error("Failed to switch chairs")},onFinish:()=>m(!1)})},o=()=>{u.get("/chair-assignment")},a=s=>{if(!s.chair_number)return null;const h=s.chair_number<=250;return e.jsxs("div",{className:"flex items-center gap-2",children:[h?e.jsx(P,{className:"h-4 w-4 text-purple-600"}):e.jsx(V,{className:"h-4 w-4 text-blue-600"}),e.jsxs(p,{variant:h?"default":"secondary",children:["Chair ",s.chair_number]})]})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:`Switch Chairs - ${r.full_name}`}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs(N,{children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:o,className:"p-1",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Switch Chairs"]}),e.jsx(v,{children:"Switch chair assignments between two attendants"})]})]})}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Current Selection:"}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsx("p",{className:"font-medium",children:r.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Chair"}),a(r)]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIP Status"}),e.jsx(p,{variant:r.vip_status==="vip"||r.vip_status==="premium"?"default":"secondary",children:r.vip_status.toUpperCase()})]})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Switch with",e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),e.jsxs(S,{value:t,onValueChange:f,children:[e.jsx(_,{children:e.jsx(y,{placeholder:"Select attendant to switch chairs with"})}),e.jsx(k,{children:i.map(s=>e.jsx(I,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:s.full_name}),e.jsx("div",{className:"ml-2",children:a(s)})]})},s.id))})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length," attendants with chairs available"]})]}),l&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-medium mb-3 text-blue-900 dark:text-blue-100",children:"Switch Preview:"}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:r.full_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"will get"}),a(l)]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:l.full_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"will get"}),a(r)]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(c,{type:"button",variant:"outline",onClick:o,className:"flex-1",children:"Cancel"}),e.jsx(c,{type:"submit",disabled:d||!t,className:"flex-1",children:d?"Switching...":"Switch Chairs"})]})]})]})]})})})]})}export{W as default};
