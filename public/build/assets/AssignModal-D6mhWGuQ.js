import{r as x,j as s,H as v,a as h}from"./app-B3SgVJhu.js";import{B as l}from"./button-Vmq4He0e.js";import{C as b,a as S,b as _,d as w,c as A}from"./card-B-_B4fQR.js";import{S as y,a as I,b as $,c as k,d as B}from"./select-B_FdFDdP.js";import{B as u}from"./badge-DEMd6afw.js";import{t as n}from"./index-A0Bk4YZj.js";import{A as V}from"./arrow-left-M1Tzcw5_.js";import{A as P}from"./armchair-B9wf3bVs.js";import{C as g}from"./crown-CZIETeso.js";import{U as p}from"./user-DJPo2xMZ.js";/* empty css            */import"./createLucideIcon-DQaRmWom.js";import"./index-D9Wn9T95.js";import"./index-BpbJzotd.js";import"./index-Drq49MY5.js";import"./index-DNXUY5o0.js";import"./check-R423YZ93.js";function Y({attendant:e,availableChairs:c,attendantSection:f,modalType:r}){const[i,j]=x.useState(e.chair_number?.toString()||""),[m,d]=x.useState(!1),N=a=>{if(a.preventDefault(),!i){n.error("Please select a chair number");return}d(!0),h.patch(`/chair-assignment/${e.id}/assign`,{chair_number:parseInt(i)},{onSuccess:()=>{n.success(`Chair ${r==="assign"?"assigned":"changed"} successfully`)},onError:t=>{n.error(t.chair_number||"Failed to assign chair")},onFinish:()=>d(!1)})},o=()=>{h.get("/chair-assignment")},C=a=>{const t=a<=250;return s.jsxs("div",{className:"flex items-center gap-2",children:[t?s.jsx(g,{className:"h-3 w-3 text-purple-600"}):s.jsx(p,{className:"h-3 w-3 text-blue-600"}),s.jsxs("span",{children:["Chair ",a]}),s.jsx(u,{variant:t?"default":"secondary",className:"text-xs",children:t?"VIP":"Regular"})]})};return s.jsxs(s.Fragment,{children:[s.jsx(v,{title:`${r==="assign"?"Assign":"Change"} Chair - ${e.full_name}`}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(b,{children:[s.jsx(S,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(l,{variant:"ghost",size:"sm",onClick:o,className:"p-1",children:s.jsx(V,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(_,{className:"flex items-center gap-2",children:[s.jsx(P,{className:"h-5 w-5"}),r==="assign"?"Assign Chair":"Change Chair"]}),s.jsx(w,{children:r==="assign"?`Assign a chair to ${e.full_name}`:`Change chair for ${e.full_name} (Currently: Chair #${e.chair_number})`})]})]})}),s.jsxs(A,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Attendant"}),s.jsx("p",{className:"font-medium",children:e.full_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIP Status"}),s.jsx(u,{variant:e.vip_status==="vip"||e.vip_status==="premium"?"default":"secondary",children:e.vip_status.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Invited By"}),s.jsx("p",{className:"text-sm",children:e.invitation_link?.full_name||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Section"}),s.jsx("p",{className:"text-sm",children:f})]})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium",children:["Select Chair",s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs(y,{value:i,onValueChange:j,children:[s.jsx(I,{children:s.jsx($,{placeholder:"Choose an available chair"})}),s.jsx(k,{children:c.map(a=>s.jsx(B,{value:a.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[a<=250?s.jsx(g,{className:"h-3 w-3 text-purple-600"}):s.jsx(p,{className:"h-3 w-3 text-blue-600"}),"Chair ",a," (",a<=250?"VIP":"Regular"," Section)"]})},a))})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.length," chairs available in your section"]})]}),i&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Selected:"}),s.jsx("div",{className:"mt-1",children:C(parseInt(i))})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(l,{type:"button",variant:"outline",onClick:o,className:"flex-1",children:"Cancel"}),s.jsx(l,{type:"submit",disabled:m||!i,className:"flex-1",children:m?r==="assign"?"Assigning...":"Changing...":r==="assign"?"Assign Chair":"Change Chair"})]})]})]})]})})})]})}export{Y as default};
